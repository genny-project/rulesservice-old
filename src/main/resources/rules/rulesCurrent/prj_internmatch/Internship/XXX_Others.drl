package life.genny.rules;

import life.genny.rules.QRules;
import life.genny.qwanda.message.QEventBtnClickMessage;

rule "Apply internship"
    no-loop true
    when
        m : QEventBtnClickMessage( event_type == "BTN_CLICK" && data.code == "BTN_APPLY_INTERNSHIP")
        rules: QRules( !isState("APPLY_INTERNSHIP") )
     then

     	rules.header();
        rules.setState("APPLY_INTERNSHIP");

        /* TODO: create new application BE */

        rules.sendSublayout("internship-application", "internships/apply.json", "", true);
	    rules.footer();
end


package life.genny.rules;

import life.genny.rules.QRules;

rule "Show Details of internships"
    no-loop true
    when
        m : QEventBtnClickMessage( event_type == "BTN_CLICK" && data.code == "BTN_SHOW_INTERNSHIP")
        rules: QRules( !isState("SHOW_INTERNSHIP") )
     then

     	rules.header();
        rules.setState("SHOW_INTERNSHIP");
        rules.showInternship(m);
	    rules.footer();
end

